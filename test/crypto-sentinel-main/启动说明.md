# 🚀 启动脚本说明

## 📋 前台运行（推荐开发时使用）

**特点：显示实时日志，便于调试**

### 启动后端（终端1）
```bash
./dev-backend.sh
```
- ✅ 自动清理端口冲突
- ✅ 显示实时日志
- ✅ 按 Ctrl+C 停止服务
- 📊 访问: http://localhost:3000

### 启动前端（终端2）
```bash
./dev-frontend.sh
```
- ✅ 自动清理端口冲突  
- ✅ 显示实时日志
- ✅ 按 Ctrl+C 停止服务
- 🌐 访问: http://localhost:5173

---

## 🔄 后台运行（适合长期运行）

**特点：后台运行，不占用终端**

### 快速启动（一键启动所有服务）
```bash
./quick-start.sh
```
- ⚡ 10秒快速启动
- 🔧 自动清理端口
- 📝 日志保存在 logs/ 目录

### 分步启动
```bash
# 仅启动后端
./start-backend.sh

# 仅启动前端
./start-frontend.sh
```

### 完整启动（包含Docker检查）
```bash
./start-all.sh
```
- 🐳 自动检查并启动 Docker
- ⏱️ 等待数据库就绪
- ⚠️ 启动时间较长（约45秒）

---

## 🛑 停止服务

```bash
./stop-all.sh
```
停止所有后台服务（前台服务直接 Ctrl+C）

---

## 💡 使用建议

### 开发调试时
**推荐使用前台模式：**
- 终端1: `./dev-backend.sh` 
- 终端2: `./dev-frontend.sh`

**优点：**
- ✅ 能看到实时日志输出
- ✅ 方便发现错误
- ✅ Ctrl+C 即可停止
- ✅ 代码修改后自动重启

### 长期运行时
**推荐使用后台模式：**
```bash
./quick-start.sh
```

**优点：**
- ✅ 不占用终端
- ✅ 关闭终端也不会停止
- ✅ 日志保存在文件中
- 📝 查看日志: `tail -f logs/backend.log`

---

## 🔍 验证服务状态

### 检查后端
```bash
curl http://localhost:3000/api/health
```
返回 `{"status":"ok",...}` 表示成功

### 检查前端
浏览器访问: http://localhost:5173

### 查看日志
```bash
# 后端日志
tail -f logs/backend.log

# 前端日志  
tail -f logs/frontend.log
```

### 检查端口占用
```bash
# 检查后端端口
lsof -i :3000

# 检查前端端口
lsof -i :5173
```

---

## ❓ 常见问题

### Q: 启动失败怎么办？
1. 检查端口是否被占用
2. 查看日志: `tail -f logs/backend.log`
3. 确保 Docker 已启动: `docker ps`
4. 手动清理端口: `lsof -ti:3000 | xargs kill -9`

### Q: 前台模式和后台模式有什么区别？
- **前台模式**: 日志直接显示在终端，Ctrl+C 停止
- **后台模式**: 后台运行，日志保存在文件，需要用脚本停止

### Q: 如何只启动其中一个服务？
- 后端: `./dev-backend.sh` 或 `./start-backend.sh`
- 前端: `./dev-frontend.sh` 或 `./start-frontend.sh`

---

## 📊 服务信息

| 服务 | 端口 | 访问地址 |
|------|------|---------|
| 前端 | 5173 | http://localhost:5173 |
| 后端 | 3000 | http://localhost:3000 |
| MySQL | 3306 | localhost:3306 |
| Redis | 6379 | localhost:6379 |

---

**祝开发愉快！🎉**

